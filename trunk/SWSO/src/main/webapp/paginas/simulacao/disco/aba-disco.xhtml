<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
	<div align="right" class="tempo-simulacao" >
		<p:commandButton value="Configurações" styleClass="btn" onclick="modalConfigDisk.show()" rendered="#{!viewOnly}"/>
	</div>
	
	<p:commandButton value="Adicionar Arquivo" styleClass="btn" onclick="modalNovoProcesso.show()" rendered="#{!viewOnly}"/>
		
	<p:dataTable var="arquivo" value="#{maquinaSessaoController.sistemaArquivo.allFiles}" id="dataFat" emptyMessage="Nenhum item encontrado.">
		<f:facet name="header">
	        #{bundle['simulacao.title.tabela.arquivo']}
	    </f:facet>
        <p:column headerText="ID" width="20%">
        	<h:outputText value="#{arquivo.fileID}" />
        </p:column>
        <p:column headerText="Nome" width="65%">
        	<b><h:outputText value="#{arquivo.fileName}" style="color: ##{arquivo.color}"/></b>
        </p:column>
        <p:column headerText="Iniciar" width="15%" rendered="#{!viewOnly}">
        	<p:commandButton icon="ui-icon-play"  title="Inicializar" styleClass="icon-grid-margin"/>
        	<p:commandButton icon="ui-icon-trash" title="Excluir" actionListener="#{maquinaSessaoController.deleteFile(arquivo.fileID)}" update=":formSimulacao :formSimulacaoMessage" />
        </p:column>
    </p:dataTable>

	<!-- GRID PRATOS -->
    <p:spacer height="15px"/>
	<div class="tempo-simulacao" >
		Tamanho do setor: #{discoController.sectorSize} bytes | Tamanho do disco: #{discoController.diskSize/1024} KB. | Quantidade de setores: #{discoController.qtdSectors}
	</div>
	
    <p:dataGrid var="prato" value="#{discoController.hardDisk.hd}" rows="3" paginator="true" id="dataPrato" styleClass="min-width750px"
        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        paginatorPosition="bottom" rowsPerPageTemplate="3,9,18" rowIndexVar="index">
 
        <f:facet name="header">Disco Rígido</f:facet>
        
        <p:panel header="Prato #{index+1}" style="text-align:center">
        	<canvas id="canvas#{index}" width="200px" height="200px" />
        	<script>#{discoController.drawPlates(prato, index)}</script>				        	
        </p:panel>
    </p:dataGrid>
	    
    <!-- MOVIMENTAÇÃO DO CABEÇOTE DE LEITURA -->
    <p:panel id="panelMoveCabecote" header="Movimentação do cabeçote" style="text-align:center" styleClass="min-width750px">
    	<p:commandButton value="Simular" styleClass="btn" onclick="modalSimulationDisk.show()" id="simular" rendered="#{!viewOnly}"/>
    	<div align="center">
		    <table style="width: 700px;">
		    	<thead>
		    		<tr>
		    			<th align="center" colspan="10" style="border: solid; border-color: black;">Cilindros</th>
		    		</tr>
		    		<tr>
			    		<th align="center" style="border: solid; border-color: black;">0</th>
			    		<th align="center" style="border: solid; border-color: black;">1</th>
			    		<th align="center" style="border: solid; border-color: black;">2</th>
			    		<th align="center" style="border: solid; border-color: black;">3</th>
			    		<th align="center" style="border: solid; border-color: black;">4</th>
			    		<th align="center" style="border: solid; border-color: black;">5</th>
			    		<th align="center" style="border: solid; border-color: black;">6</th>
			    		<th align="center" style="border: solid; border-color: black;">7</th>
			    		<th align="center" style="border: solid; border-color: black;">8</th>
			    		<th align="center" style="border: solid; border-color: black;">9</th>
			    	</tr>
		    	</thead>
			    <tbody>
			    	<tr>
			    		<td colspan="10">
				        	<canvas id="canvasMoveReaderHead" width="700px" height="#{discoController.canvasHeight}px" />
				        	<script>#{discoController.drawCanvasMoveReaderHead()}</script>
				        </td>
				     </tr>				        	
			   	</tbody>
		    </table>
	   		<p:commandButton value="Limpar"  title="Limpar" actionListener="#{discoController.limparListMoveReaderHead}" update=":#{p:component('panelMoveCabecote')}" 
	   			rendered="#{!empty discoController.hardDisk.listMoveReaderHead}"/>
		</div>
    </p:panel>
</html>
